

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sphero_ros Python API &mdash; sphero_ros 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="sphero_ros 0.1 documentation" href="index.html" />
    <link rel="prev" title="sphero_ros Tutorials" href="tutorials.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorials.html" title="sphero_ros Tutorials"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">sphero_ros 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/sphero_ros.png" alt="Logo"/>
            </a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">sphero_ros Python API</a><ul>
<li><a class="reference internal" href="#module-sphero_driver">sphero_driver</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorials.html"
                        title="previous chapter">sphero_ros Tutorials</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sphero-ros-python-api">
<span id="python-api"></span><h1>sphero_ros Python API<a class="headerlink" href="#sphero-ros-python-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-sphero_driver">
<span id="sphero-driver"></span><h2>sphero_driver<a class="headerlink" href="#module-sphero_driver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sphero_driver.Sphero">
<em class="property">class </em><tt class="descclassname">sphero_driver.</tt><tt class="descname">Sphero</tt><big>(</big><em>target_name='Sphero'</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sphero_driver.Sphero.assign_counter_value">
<tt class="descname">assign_counter_value</tt><big>(</big><em>counter</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.assign_counter_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.assign_counter_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Sphero contains a 32-bit counter that increments every millisecond
when it&#8217;s not in the Idle state. It has no absolute meaning and is
reset for various reasons. This command assigns the counter a
specific value for subsequent sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>counter</strong> &#8211; value to set the counter to.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.boost">
<tt class="descname">boost</tt><big>(</big><em>time</em>, <em>heading</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.boost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.boost" title="Permalink to this definition">¶</a></dt>
<dd><p>This commands Sphero to meet the provided heading, disable
stabilization and ramp the motors up to full-speed for a period of
time. The Time parameter is the duration in tenths of a
second. Setting it to zero enables constant boost until a Set
Stabilization command is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> &#8211; duration of boost in tenths of seconds.</li>
<li><strong>heading</strong> &#8211; the heading to travel while boosting.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.clear_counters">
<tt class="descname">clear_counters</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.clear_counters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.clear_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a developers-only command to clear the various system
counters described in the level 2 diag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.config_collision_detect">
<tt class="descname">config_collision_detect</tt><big>(</big><em>method</em>, <em>Xt</em>, <em>Xspd</em>, <em>Yt</em>, <em>Yspd</em>, <em>ignore_time</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.config_collision_detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.config_collision_detect" title="Permalink to this definition">¶</a></dt>
<dd><p>This command either enables or disables asynchronous message
generation when a collision is detected.The Ignore Time parameter
disables collision detection for a period of time after the async
message is generated, preventing message overload to the
client. The value is in 10 millisecond increments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> &#8211; Detection method type to use. Currently the only    method supported is 01h. Use 00h to completely disable this    service.</li>
<li><strong>Yt</strong> (<em>Xt,</em>) &#8211; An 8-bit settable threshold for the X (left/right)    and Y (front/back) axes of Sphero. A value of 00h disables the    contribution of that axis.</li>
<li><strong>Xspd,Yspd</strong> &#8211; An 8-bit settable speed value for the X and Y    axes. This setting is ranged by the speed, then added to Xt, Yt to    generate the final threshold value.</li>
<li><strong>ignore_time</strong> &#8211; An 8-bit post-collision dead time to prevent    retriggering; specified in 10ms increments.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_app_config_blk">
<tt class="descname">get_app_config_blk</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_app_config_blk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_app_config_blk" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to retrieve the application configuration block    that is set aside for exclusive use by applications.
:param response: request response back from Sphero.</p>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_auto_reconnect">
<tt class="descname">get_auto_reconnect</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_auto_reconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_auto_reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the Bluetooth auto reconnect values as defined in the
Set Auto Reconnect command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_bt_name">
<tt class="descname">get_bt_name</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_bt_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_bt_name" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the textual name (in ASCII) that the Bluetooth module
advertises. It also returns the BTA Bluetooth Address or MAC ID
for this device. Both values are returned in ASCII and have field
widths of 16 characters, with unused trailing characters set to
00h.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_power_state">
<tt class="descname">get_power_state</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_power_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_power_state" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the current power state and some additional
parameters to the Client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_rgb_led">
<tt class="descname">get_rgb_led</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_rgb_led"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_rgb_led" title="Permalink to this definition">¶</a></dt>
<dd><p>This retrieves the &#8220;user LED color&#8221; which is stored in the config
block (which may or may not be actively driven to the RGB LED).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.get_version">
<tt class="descname">get_version</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.get_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>The Get Versioning command returns a whole slew of software and
hardware information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.go_to_sleep">
<tt class="descname">go_to_sleep</tt><big>(</big><em>time</em>, <em>macro</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.go_to_sleep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.go_to_sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>This puts Sphero to sleep immediately with two parameters: the
first is the number of seconds after which it will automatically
re-awaken. If set to zero, this feature is disabled. If non-zero then
the MACRO parameter allows an optional system macro to be run upon
wakeup. If this is set to zero, no macro is executed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> &#8211; number of seconds wait before auto re-awake.</li>
<li><strong>macro</strong> &#8211; macro number to run when re-awakened.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.parse_collision_detect">
<tt class="descname">parse_collision_detect</tt><big>(</big><em>data</em>, <em>data_length</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.parse_collision_detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.parse_collision_detect" title="Permalink to this definition">¶</a></dt>
<dd><p>The data payload of the async message is 10h bytes long and
formatted as follows:</p>
<div class="highlight-python"><pre>-----------------------------------------------------------------
|X | Y | Z | AXIS | xMagnitude | yMagnitude | Speed | Timestamp |
-----------------------------------------------------------------</pre>
</div>
<ul class="simple">
<li>X, Y, Z - Impact components normalized as a signed 16-bit    value. Use these to determine the direction of collision event. If    you don&#8217;t require this level of fidelity, the two Magnitude fields    encapsulate the same data in pre-processed format.</li>
<li>Axis - This bitfield specifies which axes had their trigger    thresholds exceeded to generate the event. Bit 0 (01h) signifies    the X axis and bit 1 (02h) the Y axis.</li>
<li>xMagnitude - This is the power that crossed the programming    threshold Xt + Xs.</li>
<li>yMagnitude - This is the power that crossed the programming    threshold Yt + Ys.</li>
<li>Speed - The speed of Sphero when the impact was detected.</li>
<li>Timestamp - The millisecond timer value at the time of impact;    refer to the documentation of CID 50h and 51h to make sense of    this value.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.parse_pwr_notify">
<tt class="descname">parse_pwr_notify</tt><big>(</big><em>data</em>, <em>data_length</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.parse_pwr_notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.parse_pwr_notify" title="Permalink to this definition">¶</a></dt>
<dd><p>The data payload of the async message is 1h bytes long and
formatted as follows:</p>
<div class="highlight-python"><pre>--------
|State |
--------</pre>
</div>
<dl class="docutils">
<dt>The power state byte: </dt>
<dd><ul class="first last simple">
<li>01h = Battery Charging,</li>
<li>02h = Battery OK,</li>
<li>03h = Battery Low,</li>
<li>04h = Battery Critical</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.ping">
<tt class="descname">ping</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.ping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>The Ping command is used to verify both a solid data link with the
Client and that Sphero is awake and dispatching commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.poll_packet_times">
<tt class="descname">poll_packet_times</tt><big>(</big><em>time</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.poll_packet_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.poll_packet_times" title="Permalink to this definition">¶</a></dt>
<dd><p>This command helps the Client application profile the transmission
and processing latencies in Sphero so that a relative
synchronization of timebases can be performed. It allows the
Client to reconcile time stamped messages from Sphero to its own
time stamped events.</p>
<p>The scheme is as follows: the Client sends the command with the
Client Tx time (<img class="math" src="_images/math/9168663bdcc2a7840189d9aedc36e824b523cb9e.png" alt="T_{1}"/>) filled in. Upon receipt of the packet, the
command processor in Sphero copies that time into the response
packet and places the current value of the millisecond counter
into the Sphero Rx time field (<img class="math" src="_images/math/4b034a1760b3fe3a8182c2d2862991d09ebfff30.png" alt="T_{2}"/>). Just before the transmit
engine streams it into the Bluetooth module, the Sphero Tx time
value (<img class="math" src="_images/math/fbd6baf73167f90d000adedd090e7de005f3e450.png" alt="T_{3}"/>)  is filled in. If the Client then records the time at
which the response is received (<img class="math" src="_images/math/1ab8cb64dd45cd06a60d0d58a7de6c723eb8a7d3.png" alt="T_{4}"/>) the relevant time segments can
be computed from the four time stamps (<img class="math" src="_images/math/6ef35e4e8c37fc3c5b663a4f8763cb90610b7ed0.png" alt="T_{1}, T_{2}, T_{3}, T_{4}"/>):</p>
<ul>
<li><dl class="first docutils">
<dt>The value offset represents the maximum-likelihood time offset      of the Client clock to Sphero&#8217;s system clock.</dt>
<dd><ul class="first last simple">
<li>offset <img class="math" src="_images/math/f2453e3aa47ce9429870d71f9b2f223fba53ee9c.png" alt="= 1/2*[(T_{2} - T_{1}) + (T_{3}  - T_{4})]"/></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The value delay represents the round-trip delay between the      Client and Sphero:</dt>
<dd><ul class="first last simple">
<li>delay <img class="math" src="_images/math/2b0e649d4b6cf1165f7c2cd0f0de98f88e259660.png" alt="= (T_{4} - T_{1}) - (T_{3} - T_{2})"/></li>
</ul>
</dd>
</dl>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> &#8211; client Tx time.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.recv">
<tt class="descname">recv</tt><big>(</big><em>num_bytes</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.recv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Commands are acknowledged from the Sphero -&gt; Client in the
following format:</p>
<div class="highlight-python"><pre>-------------------------------------------------
|SOP1 | SOP2 | MSRP | SEQ | DLEN | &lt;data&gt; | CHK |
-------------------------------------------------</pre>
</div>
<ul class="simple">
<li>SOP1 - Start Packet 1 - Always 0xff.</li>
<li>SOP2 - Start Packet 2 - Set to 0xff when this is an      acknowledgement, 0xfe otherwise.</li>
<li>MSRP - Message Response - This is generated by the message      decoder of the virtual device.</li>
<li>SEQ - Sequence Number - Echoed to the client when this is a      direct message response (set to 00h when SOP2 = FEh)</li>
<li>DLEN - Data Length - The number of bytes following through the      end of the packet</li>
<li>&lt;data&gt;</li>
<li>CHK - Checksum - - The modulo 256 sum of all the bytes from the      DID through the end of the data payload, bit inverted (1&#8217;s      complement)</li>
</ul>
<p>Asynchronous Packets are sent from Sphero -&gt; Client in the
following byte format:</p>
<div class="highlight-python"><pre>-------------------------------------------------------------
|SOP1 | SOP2 | ID CODE | DLEN-MSB | DLEN-LSB | &lt;data&gt; | CHK |
-------------------------------------------------------------</pre>
</div>
<ul class="simple">
<li>SOP1 - Start Packet 1 - Always 0xff.</li>
<li>SOP2 - Start Packet 2 - Set to 0xff when this is an
acknowledgement, 0xfe otherwise.</li>
<li>ID CODE - ID Code - See the IDCODE dict</li>
<li>DLEN-MSB - Data Length MSB - The MSB number of bytes following      through the end of the packet</li>
<li>DLEN-LSB - Data Length LSB - The LSB number of bytes following      through the end of the packet</li>
<li>&lt;data&gt;</li>
<li>CHK - Checksum - - The modulo 256 sum of all the bytes from the      DID through the end of the data payload, bit inverted (1&#8217;s      complement)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.roll">
<tt class="descname">roll</tt><big>(</big><em>speed</em>, <em>heading</em>, <em>state</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.roll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.roll" title="Permalink to this definition">¶</a></dt>
<dd><p>This commands Sphero to roll along the provided vector. Both a
speed and a heading are required; the latter is considered
relative to the last calibrated direction. A state Boolean is also
provided (on or off). The client convention for heading follows the 360
degrees on a circle, relative to the ball: 0 is straight ahead, 90
is to the right, 180 is back and 270 is to the left. The valid
range is 0..359.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>speed</strong> &#8211; 0-255 value representing 0-max speed of the sphero.</li>
<li><strong>heading</strong> &#8211; heading in degrees from 0 to 359.</li>
<li><strong>state</strong> &#8211; 00h for off (braking) and 01h for on (driving).</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.run_l1_diags">
<tt class="descname">run_l1_diags</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.run_l1_diags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.run_l1_diags" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a developer-level command to help diagnose aberrant
behavior. Most system counters, process flags, and system states
are decoded into human readable ASCII. There are two responses to
this command: a Simple Response followed by a large async message
containing the results of the diagnostic tests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.run_l2_diags">
<tt class="descname">run_l2_diags</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.run_l2_diags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.run_l2_diags" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a developers-only command to help diagnose aberrant
behavior. It is much less impactful than the Level 1 command as it
doesn&#8217;t interfere with the current operation it simply returns a
current set of statistics to the client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; request response back from Sphero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.send">
<tt class="descname">send</tt><big>(</big><em>data</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Packets are sent from Client -&gt; Sphero in the following byte format:</p>
<div class="highlight-python"><pre>-------------------------------------------------------
| SOP1 | SOP2 | DID | CID | SEQ | DLEN | &lt;data&gt; | CHK |
-------------------------------------------------------</pre>
</div>
<ul class="simple">
<li>SOP1 - start packet 1 - Always 0xff.</li>
<li>SOP2 - start packet 2 - Set to 0xff when an acknowledgement is      expected, 0xfe otherwise.</li>
<li>DID - Device ID</li>
<li>CID - Command ID</li>
<li>SEQ - Sequence Number - This client field is echoed in the      response for all synchronous commands (and ignored by Sphero      when SOP2 = 0xfe)</li>
<li>DLEN - Data</li>
<li>Length - Number of bytes through the end of the packet.</li>
<li>&lt;data&gt;</li>
<li>CHK - Checksum - The modulo 256 sum of all the bytes from the      DID through the end of the data payload, bit inverted (1&#8217;s      complement).</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_app_config_blk">
<tt class="descname">set_app_config_blk</tt><big>(</big><em>app_data</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_app_config_blk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_app_config_blk" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to write a 32 byte block of data from the
configuration block that is set aside for exclusive use by
applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>app_data</strong> &#8211; block set aside for application.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_auto_reconnect">
<tt class="descname">set_auto_reconnect</tt><big>(</big><em>enable</em>, <em>time</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_auto_reconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_auto_reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>This configures the control of the Bluetooth module in its attempt
to automatically reconnect with the last iPhone device. This is a
courtesy behavior since the iPhone Bluetooth stack doesn&#8217;t initiate
automatic reconnection on its own.  The two parameters are simple:
flag = 00h to disable or 01h to enable, and time = the number of
seconds after power-up in which to enable auto reconnect mode. For
example, if time = 30 then the module will be attempt reconnecting 30
seconds after waking up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>enable</strong> &#8211; 00h to disable or 01h to enable auto reconnecting.</li>
<li><strong>time</strong> &#8211; the number of seconds after power-up in which to    enable auto reconnect mode</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_back_led">
<tt class="descname">set_back_led</tt><big>(</big><em>brightness</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_back_led"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_back_led" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to control the brightness of the back LED. The
value does not persist across power cycles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>brightness</strong> &#8211; 0-255, off-on (the blue LED on hemisphere of the Sphero).</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_data_strm">
<tt class="descname">set_data_strm</tt><big>(</big><em>sample_div</em>, <em>sample_frames</em>, <em>sample_mask1</em>, <em>pcnt</em>, <em>sample_mask2</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_data_strm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_data_strm" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently the control system runs at 400Hz and because it&#8217;s pretty
unlikely you will want to see data at that rate, N allows you to
divide that down. sample_div = 2 yields data samples at 200Hz,
sample_div = 10, 40Hz, etc. Every data sample consists of a
&#8220;frame&#8221; made up of the individual sensor values as defined by the
sample_mask. The sample_frames value defines how many frames to
collect in memory before the packet is emitted. In this sense, it
controls the latency of the data you receive. Increasing
sample_div and the number of bits set in sample_mask drive the
required throughput. You should experiment with different values
of sample_div, sample_frames and sample_mask to see what works
best for you.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sample_div</strong> &#8211; divisor of the maximum sensor sampling rate.</li>
<li><strong>sample_frames</strong> &#8211; number of sample frames emitted per packet.</li>
<li><strong>sample_mask1</strong> &#8211; bitwise selector of data sources to stream.</li>
<li><strong>pcnt</strong> &#8211; packet count (set to 0 for unlimited streaming).</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_device_name">
<tt class="descname">set_device_name</tt><big>(</big><em>name</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_device_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_device_name" title="Permalink to this definition">¶</a></dt>
<dd><p>This assigned name is held internally and produced as part of the
Get Bluetooth Info service below. Names are clipped at 48
characters in length to support UTF-8 sequences; you can send
something longer but the extra will be discarded. This field
defaults to the Bluetooth advertising name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; 48 character name.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_heading">
<tt class="descname">set_heading</tt><big>(</big><em>heading</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_heading"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_heading" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows the client to adjust the orientation of Sphero by
commanding a new reference heading in degrees, which ranges from 0
to 359. You will see the ball respond immediately to this command
if stabilization is enabled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>heading</strong> &#8211; heading in degrees from 0 to 359 (motion will be    shortest angular distance to heading command)</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_power_notify">
<tt class="descname">set_power_notify</tt><big>(</big><em>enable</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_power_notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_power_notify" title="Permalink to this definition">¶</a></dt>
<dd><p>This enables Sphero to asynchronously notify the Client
periodically with the power state or immediately when the power
manager detects a state change. Timed notifications arrive every 10
seconds until they&#8217;re explicitly disabled or Sphero is unpaired. The
flag is as you would expect, 00h to disable and 01h to enable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>enable</strong> &#8211; 00h to disable and 01h to enable power notifications.</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_raw_motor_values">
<tt class="descname">set_raw_motor_values</tt><big>(</big><em>l_mode</em>, <em>l_power</em>, <em>r_mode</em>, <em>r_power</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_raw_motor_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_raw_motor_values" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to take over one or both of the motor output
values, instead of having the stabilization system control
them. Each motor (left and right) requires a mode (see below) and
a power value from 0- 255. This command will disable stabilization
if both modes aren&#8217;t &#8220;ignore&#8221; so you&#8217;ll need to re-enable it via
CID 02h once you&#8217;re done.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mode</strong> &#8211; 0x00 - off, 0x01 - forward, 0x02 - reverse, 0x03 -    brake, 0x04 - ignored.</li>
<li><strong>power</strong> &#8211; 0-255 scalar value (units?).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_rgb_led">
<tt class="descname">set_rgb_led</tt><big>(</big><em>red</em>, <em>green</em>, <em>blue</em>, <em>save</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_rgb_led"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_rgb_led" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to set the RGB LED color. The composite value is
stored as the &#8220;application LED color&#8221; and immediately driven to
the LED (if not overridden by a macro or orbBasic operation). If
FLAG is true, the value is also saved as the &#8220;user LED color&#8221;
which persists across power cycles and is rendered in the gap
between an application connecting and sending this command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>red</strong> &#8211; red color value.</li>
<li><strong>green</strong> &#8211; green color value.</li>
<li><strong>blue</strong> &#8211; blue color value.</li>
<li><strong>save</strong> &#8211; 01h for save (color is saved as &#8220;user LED color&#8221;).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_rotation_rate">
<tt class="descname">set_rotation_rate</tt><big>(</big><em>rate</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_rotation_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_rotation_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows you to control the rotation rate that Sphero will use
to meet new heading commands. The commanded value is in units of
0.784 degrees/sec. So, setting a value of c8h will set the
rotation rate to 157 degrees/sec. A value of 255 jumps to the
maximum and a value of 1 is the minimum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rate</strong> &#8211; rotation rate in units of 0.784degrees/sec (setting    this value will not cause the device to move only set the rate it    will move in other funcation calls).</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sphero_driver.Sphero.set_stablization">
<tt class="descname">set_stablization</tt><big>(</big><em>enable</em>, <em>response</em><big>)</big><a class="reference internal" href="_modules/sphero_driver.html#Sphero.set_stablization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sphero_driver.Sphero.set_stablization" title="Permalink to this definition">¶</a></dt>
<dd><p>This turns on or off the internal stabilization of Sphero, in
which the IMU is used to match the ball&#8217;s orientation to its
various set points. The flag value is as you would expect, 00h for
off and 01h for on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>enable</strong> &#8211; 00h for off and 01h for on (on by default).</li>
<li><strong>response</strong> &#8211; request response back from Sphero.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorials.html" title="sphero_ros Tutorials"
             >previous</a> |</li>
        <li><a href="contents.html">sphero_ros 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Melonee Wise.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>